<div class="mat-elevation-z8">
    <table mat-table [dataSource]="dataSource" class="w-100 mt-3">

        <!-- Image Column -->
        <ng-container matColumnDef="pictures">
            <th mat-header-cell *matHeaderCellDef> {{'trip.pictures' | translate}} </th>
            <td mat-cell *matCellDef="let element"> <img src="{{element.pictures[0]}}"></td>
        </ng-container>

        <!-- Ticker Column -->
        <ng-container matColumnDef="ticker">
            <th mat-header-cell *matHeaderCellDef> {{'trip.ticker' | translate}} </th>
            <td mat-cell *matCellDef="let element"> {{element.ticker}} </td>
        </ng-container>

        <!-- Title Column -->
        <ng-container matColumnDef="title">
            <th mat-header-cell *matHeaderCellDef> {{'trip.title' | translate}} </th>
            <td mat-cell *matCellDef="let element"> <a mat-button routerLink="/trips/{{element._id}}">{{element.title}}</a> </td>
        </ng-container>
  
        <!-- Price Column -->
        <ng-container matColumnDef="price">
            <th mat-header-cell *matHeaderCellDef> {{'trip.price' | translate}} </th>
            <td mat-cell *matCellDef="let element"> {{element.price}} </td>
        </ng-container>

        <!-- Description Column -->
        <ng-container matColumnDef="description">
            <th mat-header-cell *matHeaderCellDef> {{'trip.description' | translate}} </th>
            <td mat-cell *matCellDef="let element"> {{element.description}} </td>
        </ng-container>

        <!-- Start Column -->
        <ng-container matColumnDef="start">
            <th mat-header-cell *matHeaderCellDef> {{'trip.start' | translate}} </th>
            <td mat-cell *matCellDef="let element"> {{element.start | date: 'dd/MM/yyyy'}} </td>
        </ng-container>

        <!-- End Column -->
        <ng-container matColumnDef="end">
            <th mat-header-cell *matHeaderCellDef> {{'trip.end' | translate}} </th>
            <td mat-cell *matCellDef="let element"> {{element.end | date: 'dd/MM/yyyy'}} </td>
        </ng-container>

        <!-- Cancelled status Column -->
        <ng-container matColumnDef="cancelled">
            <th mat-header-cell *matHeaderCellDef> {{'trip.cancelled' | translate}} </th>
            <td mat-cell *matCellDef="let element"> {{element.cancelled}} </td>
        </ng-container>

        <!-- Edit Column -->
        <ng-container matColumnDef="edit">
            <th mat-header-cell *matHeaderCellDef> {{'messages.update' | translate}} </th>
            <td mat-cell *matCellDef="let element"> 
                <button mat-mini-fab color="primary" [disabled]="element.cancelled" (click)="onEdit(element._id)" aria-label="Example icon button with an edit icon">
                    <mat-icon>border_color</mat-icon>
                </button>
            </td>
        </ng-container>

        <!-- Cancel Column -->
        <ng-container matColumnDef="cancel">
            <th mat-header-cell *matHeaderCellDef> {{'trip.cancel' | translate}} </th>
            <td mat-cell *matCellDef="let element"> 
                <button mat-mini-fab color="warn" [disabled]="element.cancelled" aria-label="Example icon button with a delete icon" (click)="cancelTrip(element._id, element.start)">
                    <mat-icon>cancel</mat-icon>
                </button>
            </td>
        </ng-container>        
  
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>
</div>